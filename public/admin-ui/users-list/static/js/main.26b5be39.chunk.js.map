{"version":3,"sources":["components/admin/users/Modal.js","components/admin/users/TableUser.js","index.js"],"names":["Modal","_this$props","this","props","message","confirmAction","react_default","a","createElement","className","onClick","e","Component","TableUser","state","users","id","popup","deleteUser","_this","url","concat","axios","delete","then","response","data","setState","window","location","reload","showPopup","preventDefault","type","_this2","get","_this3","_this$state","modalTag","Modal_Modal","Fragment","map","user","nome","cpf","email","render","TableUser_TableUser","document","getElementById"],"mappings":"wOAEqBA,0LACR,IAAAC,EAC4BC,KAAKC,MAAhCC,EADDH,EACCG,QAASC,EADVJ,EACUI,cACf,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACVL,EACDE,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBC,QAAS,SAAAC,GAAC,OAAIN,EAAc,UAAhE,QACAC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBC,QAAS,SAAAC,GAAC,OAAIN,EAAc,YAA/D,kBAReO,cCCdC,6MACjBC,MAAQ,CACJC,MAAO,GACPC,GAAI,KACJC,OAAO,KAYXC,WAAa,WAAM,IACTF,EAAOG,EAAKL,MAAZE,GACFI,EAAG,oCAAAC,OAAuCL,GAC9CM,IAAMC,OAAOH,GAAKI,KAAK,SAAAC,GACnB,IAAIrB,EAAU,GAEVA,EADkB,IAAlBqB,EAASC,KACC,eAGA,cAEdP,EAAKQ,SAAS,CAAEvB,QAASA,EAASY,GAAI,KAAMC,OAAO,IACnDW,OAAOC,SAASC,cAGxBC,UAAY,SAACpB,EAAGK,GACZL,EAAEqB,iBACFb,EAAKQ,SAAS,CAAEV,OAAO,EAAMD,GAAIA,OAErCX,cAAgB,SAAC4B,GACA,WAATA,EACAd,EAAKD,aAGLC,EAAKQ,SAAS,CAAEV,OAAO,EAAOD,GAAI,2FAlCtB,IAAAkB,EAAAhC,KAEhBoB,IAAMa,IADI,yCACKX,KAAK,SAAAC,GACZA,EAASC,KACTQ,EAAKP,SAAS,CAAEZ,MAAOU,EAASC,OAEhCQ,EAAKP,SAAS,CAAEvB,QAAS,2DA+B5B,IAAAgC,EAAAlC,KAAAmC,EACkBnC,KAAKY,MAAtBC,EADDsB,EACCtB,MACFuB,EAFCD,EACQpB,MACUX,EAAAC,EAAAC,cAAC+B,EAAD,CAAOnC,QAAQ,yCAAsCC,cAAeH,KAAKG,gBAAoB,KACpH,OACIC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiC,SAAA,KACKF,EAEAvB,EAAM0B,IAAI,SAAAC,GAAI,OACXpC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,UAAKkC,EAAK1B,IACVV,EAAAC,EAAAC,cAAA,UAAKkC,EAAKC,MACVrC,EAAAC,EAAAC,cAAA,UAAKkC,EAAKE,KACVtC,EAAAC,EAAAC,cAAA,UAAKkC,EAAKG,OACVvC,EAAAC,EAAAC,cAAA,cAAKF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBC,QAAS,SAAAC,GAAC,OAAIyB,EAAKL,UAAUpB,EAAG+B,EAAK1B,MAAxE,aAAL,gBAxDeJ,aCCvCkC,iBAAOxC,EAAAC,EAAAC,cAACuC,EAAD,MAAeC,SAASC,eAAe","file":"static/js/main.26b5be39.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport './style.css'\nexport default class Modal extends Component {\n    render() {\n        let { message, confirmAction } = this.props;\n        return (\n            <div className=\"modal-wrapper\">\n                {message}\n                <div>\n                    <button className=\"btn btn-primary\" onClick={e => confirmAction('skip')}> No </button>\n                    <button className=\"btn btn-danger\" onClick={e => confirmAction('delete')}> Yes </button>\n                </div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport Modal from './Modal'\nexport default class TableUser extends Component {\n    state = {\n        users: [],\n        id: null,\n        popup: false,\n    }\n    componentDidMount() {\n        let url = 'http://localhost:4003/admin/api/users'\n        axios.get(url).then(response => {\n            if (response.data) {\n                this.setState({ users: response.data })\n            } else {\n                this.setState({ message: 'Problems on request' })\n            }\n        })\n    }\n    deleteUser = () => {\n        let { id } = this.state;\n        let url = `http://localhost:4003/admin/user/${id}`\n        axios.delete(url).then(response => {\n            let message = ''\n            if (response.data === 1) {\n                message = 'user deleted'\n            }\n            else {\n                message = 'algo errado'\n            }\n            this.setState({ message: message, id: null, popup: false })\n            window.location.reload();\n        })\n    }\n    showPopup = (e, id) => {\n        e.preventDefault()\n        this.setState({ popup: true, id: id })\n    }\n    confirmAction = (type) => {\n        if (type === 'delete') {\n            this.deleteUser()\n        }\n        else {\n            this.setState({ popup: false, id: null })\n        }\n    }\n    render() {\n        let { users, popup } = this.state\n        let modalTag = popup ? <Modal message='Realmente deseja deletar o usuÃ¡rio?' confirmAction={this.confirmAction} /> : null\n        return (\n            <>\n                {modalTag}\n\n                {users.map(user => (\n                    <tr className=\"odd gradeX\">\n                        <td>{user.id}</td>\n                        <td>{user.nome}</td>\n                        <td>{user.cpf}</td>\n                        <td>{user.email}</td>\n                        <td> <button className=\"btn btn-danger\" onClick={e => this.showPopup(e, user.id)}> Excluir </button> </td>\n                    </tr>\n                ))}\n\n            </>\n        )\n    }\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport TableUser from './components/admin/users/TableUser'\n\nrender(<TableUser />, document.getElementById('root'));\n"],"sourceRoot":""}